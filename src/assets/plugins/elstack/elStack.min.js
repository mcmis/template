/* elStack */

/*
 * Author: Farhan Wazir
 * Email: farhan.wazir@gmail.com
 * Website: http://github.com/farhanwazir/elstack
 *
 ************ Objective ***********
 * To create a group of HTML element, to show a bundle.
 *
 ************ Description: ***********
 * It was a requirement for one of my project, so i have decided to development when no options i had
 * found on internet.
 *
 ************ LICENSE ***********
 * The MIT License (MIT)
 * Copyright (c) 2016 Farhan Wazir
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all copies or substantial
 * portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT
 * LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN
 * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * */
!function(a,b){function d(b,d){var e=a.extend({},a.fn[c].defaults,d),f=a(b);e.target!==!1&&(f=a(e.target));var g,h,i="elstack-"+Math.floor(999*Math.random()+1)+Math.floor(9*Math.random()),j=function(){g=a(f).clone(),a(g).removeAttr("data-elstack"),a(g).removeAttr("data-elstack-class"),a(g).removeAttr("data-elstack-offset-top"),a(g).removeAttr("data-elstack-offset-left"),k()},k=function(){h=document.createElement("div"),a(h).addClass(e.class),a(h).css("position","relative"),a(h).attr("id",i),l()},l=function(){for(var b=0;b<e.repeat;b++){var c=a(g).clone();"skeleton"==e.style&&a(c).html(""),a(c).addClass("elstack-item"),a(c).css("position","absolute"),a(c).css("z-index",b+1),a(c).css("top",e.offset.top*(b+1)),a(c).css("left",e.offset.left*(b+1)),a(c).appendTo(h)}},m=function(){a(g).css("position","absolute"),a(g).css("z-index",parseInt(e.repeat)+1),a(g).css("top",e.offset.top*(parseInt(e.repeat)+1)),a(g).css("left",e.offset.left*(parseInt(e.repeat)+1)),a(g).addClass("elstack-target-item")},n=function(b){a("#"+i).children(".elstack-item").css("height",a("#"+i).children(".elstack-target-item").height()),a("#"+i).children(".elstack-item").css("width",a("#"+i).children(".elstack-target-item").width());var c=(parseInt(e.repeat)+1)*e.offset.top,d=(parseInt(e.repeat)+1)*e.offset.left;a("#"+i).css("min-height",a("#"+i).children(".elstack-target-item").height()+c),a("#"+i).css("min-width",a("#"+i).children(".elstack-target-item").width()+d)},o=function(){a(g).appendTo(h),m(),a(f).replaceWith(h),n(a(h).children(".elstack-target-item"))};return j(),o(),this}var c="elStack";a.fn[c]=function(a){return this.each(function(){new d(this,a)})},a.fn[c].defaults={target:!1,repeat:3,offset:{top:3,left:3},class:"elStack-container",style:"skeleton"},a(document).ready(function(){a("[data-elstack]").each(function(){var b="undefined"!=typeof a(this).attr("data-elstack")&&a(this).attr("data-elstack")!==!1?a(this).attr("data-elstack"):a.fn[c].defaults.repeat,d="undefined"!=typeof a(this).attr("data-elstack-class")&&a(this).attr("data-elstack-class")!==!1?a(this).attr("data-elstack-class"):a.fn[c].defaults.class,e="undefined"!=typeof a(this).attr("data-elstack-offset-top")&&a(this).attr("data-elstack-offset-top")!==!1?a(this).attr("data-elstack-offset-top"):a.fn[c].defaults.offset.top,f="undefined"!=typeof a(this).attr("data-elstack-offset-left")&&a(this).attr("data-elstack-offset-left")!==!1?a(this).attr("data-elstack-offset-left"):a.fn[c].defaults.offset.left,g="undefined"!=typeof a(this).attr("data-elstack-style")&&a(this).attr("data-elstack-style")!==!1?a(this).attr("data-elstack-style"):a.fn[c].defaults.style;a(this).elStack({repeat:b,offset:{top:e,left:f},class:d,style:g})})})}(jQuery,window);